{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/service.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction FormComponent_div_2_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 27);\n    i0.ɵɵlistener(\"click\", function FormComponent_div_2_ng_container_13_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.getFloorID(item_r5._id);\n    });\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.floorID == item_r5._id ? \"active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.name, \" \");\n  }\n}\n\nfunction FormComponent_div_2_ng_container_14_ng_container_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 27);\n    i0.ɵɵlistener(\"click\", function FormComponent_div_2_ng_container_14_ng_container_9_ng_container_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const item_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return ctx_r13.getDepartmentID(item_r10._id);\n    });\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r12.departmentID == item_r10._id ? \"active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r10.name, \" \");\n  }\n}\n\nfunction FormComponent_div_2_ng_container_14_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FormComponent_div_2_ng_container_14_ng_container_9_ng_container_1_Template, 4, 2, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.floorID == item_r10.floor_id);\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"col-md-4\": a0,\n    \"col-md-3\": a1\n  };\n};\n\nfunction FormComponent_div_2_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Choose The Department\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"small\", 16);\n    i0.ɵɵtext(7, \"Optional\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 28);\n    i0.ɵɵtemplate(9, FormComponent_div_2_ng_container_14_ng_container_9_Template, 2, 1, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c0, ctx_r3.floorID && !ctx_r3.departmentID, ctx_r3.departmentID && ctx_r3.floorID));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.departments);\n  }\n}\n\nfunction FormComponent_div_2_ng_container_15_ng_container_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 27);\n    i0.ɵɵlistener(\"click\", function FormComponent_div_2_ng_container_15_ng_container_9_ng_container_1_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const item_r18 = i0.ɵɵnextContext().$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return ctx_r21.getRoomID(item_r18._id);\n    });\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r18 = i0.ɵɵnextContext().$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r20.roomID == item_r18._id ? \"active\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Room \", item_r18.name, \" \");\n  }\n}\n\nfunction FormComponent_div_2_ng_container_15_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FormComponent_div_2_ng_container_15_ng_container_9_ng_container_1_Template, 4, 2, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r18 = ctx.$implicit;\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.departmentID == item_r18.department_id);\n  }\n}\n\nfunction FormComponent_div_2_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 29);\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Choose The Room\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"small\", 16);\n    i0.ɵɵtext(7, \"Optional\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 28);\n    i0.ɵɵtemplate(9, FormComponent_div_2_ng_container_15_ng_container_9_Template, 2, 1, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.rooms);\n  }\n}\n\nconst _c1 = function (a0, a1, a2) {\n  return {\n    \"col-md-6\": a0,\n    \"col-md-4\": a1,\n    \"col-md-3\": a2\n  };\n};\n\nfunction FormComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"form\", 5);\n    i0.ɵɵlistener(\"submit\", function FormComponent_div_2_Template_form_submit_3_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.sendMessage();\n    });\n    i0.ɵɵelementStart(4, \"div\", 6);\n    i0.ɵɵelementStart(5, \"div\", 7);\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵelementStart(8, \"label\");\n    i0.ɵɵtext(9, \"Choose The Floor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"small\", 9);\n    i0.ɵɵtext(11, \"Required\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10);\n    i0.ɵɵtemplate(13, FormComponent_div_2_ng_container_13_Template, 4, 2, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, FormComponent_div_2_ng_container_14_Template, 10, 5, \"ng-container\", 2);\n    i0.ɵɵtemplate(15, FormComponent_div_2_ng_container_15_Template, 10, 1, \"ng-container\", 2);\n    i0.ɵɵelementStart(16, \"div\", 12);\n    i0.ɵɵelementStart(17, \"div\", 8);\n    i0.ɵɵelementStart(18, \"strong\");\n    i0.ɵɵelementStart(19, \"label\");\n    i0.ɵɵtext(20, \"VFeedBack\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"small\", 9);\n    i0.ɵɵtext(22, \"Required\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 13);\n    i0.ɵɵelement(24, \"input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 13);\n    i0.ɵɵelement(26, \"textarea\", 15);\n    i0.ɵɵelementStart(27, \"small\", 16);\n    i0.ɵɵtext(28, \" Please feel free to send us your feedback or request about our services so far, Make sure to include hopes, fears, expectation \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 13);\n    i0.ɵɵelementStart(30, \"div\", 17);\n    i0.ɵɵelementStart(31, \"label\", 18);\n    i0.ɵɵtext(32, \" Situation \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 6);\n    i0.ɵɵelementStart(34, \"div\", 19);\n    i0.ɵɵelementStart(35, \"div\", 20);\n    i0.ɵɵelement(36, \"input\", 21);\n    i0.ɵɵelementStart(37, \"label\", 22);\n    i0.ɵɵtext(38, \"Priority\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 19);\n    i0.ɵɵelementStart(40, \"div\", 20);\n    i0.ɵɵelement(41, \"input\", 23);\n    i0.ɵɵelementStart(42, \"label\", 24);\n    i0.ɵɵtext(43, \"Normal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"button\", 25);\n    i0.ɵɵtext(45, \" Send \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"a\", 26);\n    i0.ɵɵtext(47, \" View All Room \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.submitForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(7, _c1, !ctx_r0.floorID, ctx_r0.floorID && !ctx_r0.departmentID, ctx_r0.departmentID && ctx_r0.floorID));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.floors);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.floorID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.departmentID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(11, _c1, !ctx_r0.floorID, ctx_r0.floorID && !ctx_r0.departmentID, ctx_r0.departmentID && ctx_r0.floorID));\n    i0.ɵɵadvance(28);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.submitForm.valid || !ctx_r0.floorID);\n  }\n}\n\nfunction FormComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"div\", 30);\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5, \"VFeedBack\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 31);\n    i0.ɵɵtext(7, \"Your response has been recorded\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 32);\n    i0.ɵɵlistener(\"click\", function FormComponent_div_3_Template_a_click_8_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.newMsg();\n    });\n    i0.ɵɵtext(9, \" Submit another response \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let FormComponent = /*#__PURE__*/(() => {\n  class FormComponent {\n    constructor(service, fb) {\n      this.service = service;\n      this.fb = fb;\n      this.submitForm = new FormGroup({});\n      this.floors = [];\n      this.departments = [];\n      this.rooms = [];\n      this.submitted = false;\n      this.floorID = '';\n      this.departmentID = '';\n      this.roomID = '';\n    }\n\n    ngOnInit() {\n      this.service.getfloor().subscribe(data => {\n        console.log(data);\n        this.floors = data.payload;\n      });\n      this.service.getDepartment().subscribe(data => {\n        console.log(data);\n        this.departments = data.payload;\n      });\n      this.service.getRoom().subscribe(data => {\n        console.log(data);\n        this.rooms = data.payload;\n      });\n      this.submitForm = this.fb.group({\n        title: new FormControl(''),\n        message: new FormControl(''),\n        feedbackLevel: new FormControl(''),\n        floor_id: new FormControl(''),\n        room_id: new FormControl(''),\n        department_id: new FormControl('')\n      });\n    }\n\n    getRoomID(id) {\n      console.log('RoomID', id);\n      this.roomID = id;\n      this.submitForm.controls['room_id'].setValue(id);\n    }\n\n    getDepartmentID(id) {\n      console.log('DepartmentID', id);\n      this.departmentID = id;\n      this.submitForm.controls['department_id'].setValue(id);\n      this.submitForm.controls['room_id'].setValue('');\n    }\n\n    getFloorID(id) {\n      console.log(id);\n      this.floorID = id;\n      this.departmentID = '';\n      this.submitForm.controls['floor_id'].setValue(id);\n      this.submitForm.controls['department_id'].setValue('');\n    }\n\n    sendMessage() {\n      let feedBackType = '';\n      let uniqueIDs = [''];\n\n      if (this.submitForm.controls['floor_id'].value != '') {\n        feedBackType = 'floor';\n        uniqueIDs = [this.submitForm.controls['floor_id'].value];\n\n        if (this.submitForm.controls['department_id'].value != '') {\n          feedBackType = 'department';\n          uniqueIDs = [this.submitForm.controls['department_id'].value];\n\n          if (this.submitForm.controls['room_id'].value != '') {\n            uniqueIDs = [this.submitForm.controls['room_id'].value];\n            feedBackType = 'room';\n          }\n        }\n      }\n\n      console.log(this.submitForm.value);\n      const data = {\n        title: this.submitForm.controls['title'].value,\n        message: this.submitForm.controls['message'].value,\n        feedbackLevel: this.submitForm.controls['feedbackLevel'].value,\n        feedbackType: feedBackType,\n        uniqueIDs: uniqueIDs\n      };\n      console.log(data);\n      this.service.sendMessage(data).subscribe(response => {\n        console.log(response);\n        this.submitted = true;\n        this.floorID = '';\n        this.departmentID = '';\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    newMsg() {\n      this.submitted = false;\n      this.submitForm.reset();\n    }\n\n  }\n\n  FormComponent.ɵfac = function FormComponent_Factory(t) {\n    return new (t || FormComponent)(i0.ɵɵdirectiveInject(i1.Service), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  FormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormComponent,\n    selectors: [[\"app-form\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"container\"], [1, \"pt-4\", \"pb-4\"], [4, \"ngIf\"], [1, \"card\", \"border-0\", \"cs-shadow\"], [1, \"card-body\"], [\"onsubmit\", \"myButton.disabled = true; return true;\", 3, \"formGroup\", \"submit\"], [1, \"row\"], [1, \"mb-3\", 3, \"ngClass\"], [1, \"d-flex\", \"justify-content-between\", \"pb-2\"], [1, \"text-danger\"], [\"id\", \"list-tab\", \"role\", \"tablist\", 1, \"list-group\", \"floor\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [1, \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Title\", \"formControlName\", \"title\", \"required\", \"\", 1, \"form-control\"], [\"name\", \"\", \"id\", \"\", \"rows\", \"4\", \"placeholder\", \"Message\", \"formControlName\", \"message\", \"required\", \"\", 1, \"form-control\"], [1, \"text-muted\"], [1, \"pb-1\"], [1, \"form-check-label\"], [1, \"col-md-6\"], [1, \"form-check\", \"form-check-inline\"], [\"formControlName\", \"feedbackLevel\", \"type\", \"radio\", \"name\", \"feedbackLevel\", \"id\", \"High\", \"value\", \"High\", \"required\", \"\", 1, \"form-check-input\"], [\"for\", \"High\", 1, \"form-check-label\", \"text-danger\"], [\"formControlName\", \"feedbackLevel\", \"type\", \"radio\", \"name\", \"feedbackLevel\", \"id\", \"Normal\", \"value\", \"Medium\", \"required\", \"\", 1, \"form-check-input\"], [\"for\", \"Normal\", 1, \"form-check-label\", \"text-primary\"], [\"name\", \"myButton\", \"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"col-12\", 3, \"disabled\"], [\"routerLink\", \"/room\", 1, \"btn\", \"btn-primary\", \"btn-sm\", \"mt-4\"], [\"href\", \"javascript:void(0)\", 1, \"list-group-item\", \"list-group-item-action\", 3, \"ngClass\", \"click\"], [\"id\", \"list-tab\", \"role\", \"tablist\", 1, \"list-group\"], [1, \"col-md-3\", \"mb-3\"], [1, \"p-4\"], [1, \"pt-3\", \"pb-2\"], [\"href\", \"javascript:void(0)\", 3, \"click\"]],\n    template: function FormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, FormComponent_div_2_Template, 48, 15, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, FormComponent_div_3_Template, 10, 0, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.submitted);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted);\n      }\n    },\n    directives: [i3.NgIf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i3.NgClass, i3.NgForOf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.RequiredValidator, i2.RadioControlValueAccessor, i4.RouterLinkWithHref],\n    styles: [\"\"]\n  });\n  return FormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}