<div class="container">
  <div class="pt-4 pb-4">
    <div *ngIf="!submitted">
      <div>
        <a routerLink="/room" class="btn btn-primary btn-sm mb-4">
          View All Room
        </a>
      </div>
      <div class="card border-0 cs-shadow rounded feedback">
        <div class="card-body">
          <div class="header pb-3">
            <h2 style="color: #0080ff">Website Feedback form</h2>
            <p>
              Please fill out this brief feedback form so we can ensure a tap
              qualify experience for all of our visitors.
            </p>
            <button
              class="btn btn-sm btn-dark mr-3"
              type="button"
              (click)="showDP()"
              *ngIf="!displayDP"
            >
              + Department
            </button>
            <button
              class="btn btn-sm btn-danger mr-3"
              type="button"
              (click)="hideDP()"
              *ngIf="displayDP"
            >
              - Department
            </button>
            <button
              class="btn btn-sm btn-dark mr-3"
              type="button"
              (click)="showRoom()"
              *ngIf="!displayRoom"
            >
              + Room
            </button>
            <button
              class="btn btn-sm btn-danger"
              type="button"
              (click)="hideRoom()"
              *ngIf="displayRoom"
            >
              - Room
            </button>
          </div>
          <form
            [formGroup]="submitForm"
            (submit)="sendMessage()"
            onsubmit="myButton.disabled = true; return true;"
          >
            <div class="floor pt-3 pb-3">
              <h5 class="pb-2">
                <span>*</span> In General, Which Floor do you want to feedback ?
              </h5>
              <div class="row">
                <div class="col-md-4 pb-3" *ngFor="let item of floors">
                  <div class="form-check form-check-inline">
                    <input
                      formControlName="floor_id"
                      class="form-check-input"
                      type="radio"
                      name="floor_id"
                      id="{{ item.name }}"
                      value="{{ item._id }}"
                      (change)="setFloorID(item._id)"
                    />
                    <label class="form-check-label" for="{{ item.name }}">
                      {{ item.name }}
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="displayDP">
              <div class="department pt-3 pb-3" *ngIf="floorID">
                <h5 class="pb-2">
                  <span>*</span>
                  In General, Which Department do you want to feedback ?
                </h5>
                <div class="row" *ngFor="let item of departments">
                  <div class="col-md-4 pb-3" *ngIf="floorID == item.floor_id">
                    <div class="form-check form-check-inline">
                      <input
                        formControlName="department_id"
                        class="form-check-input"
                        type="radio"
                        name="department_id"
                        id="{{ item.name }}"
                        value="{{ item._id }}"
                        (change)="setDepartmentID(item._id)"
                      />
                      <label class="form-check-label" for="{{ item.name }}">
                        {{ item.name }}
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="displayRoom">
              <div class="room pt-3 pb-3" *ngIf="departmentID">
                <h5 class="pb-2">
                  <span>*</span>
                  In General, Which Room do you want to feedback ?
                </h5>
                <div class="row" *ngFor="let item of rooms">
                  <div
                    class="col-md-4 pb-3"
                    *ngIf="departmentID == item.department_id"
                  >
                    <div class="form-check form-check-inline">
                      <input
                        formControlName="room_id"
                        class="form-check-input"
                        type="radio"
                        name="room_id"
                        id="{{ item.name }}"
                        value="{{ item._id }}"
                        (change)="getRoomID(item._id)"
                      />
                      <label class="form-check-label" for="{{ item.name }}">
                        {{ item.name }}
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="title pt-3 pb-3">
              <h5 class="pb-2">
                <span>*</span>
                Title
              </h5>
              <div class="pb-3">
                <input
                  formControlName="title"
                  type="text"
                  class="form-control form-control-lg shadow-sm"
                  placeholder="Title"
                  name="title"
                />
              </div>
            </div>
            <div class="feedback pt-3 pb-3">
              <h5 class="pb-2">
                <span>*</span>
                Feedback Message
              </h5>
              <div class="pb-3">
                <textarea
                  formControlName="message"
                  name="message"
                  id=""
                  rows="5"
                  class="form-control form-control-lg"
                  placeholder="Message"
                ></textarea>
              </div>
              <p class="text-muted">
                Please feel free to send us your feedback or request about our
                services so far, Make sure to include hopes, fears, expectation
              </p>
            </div>
            <div class="situation pt-3 pb-3">
              <h5 class="pb-2">
                <span>*</span>
                Situation
              </h5>
              <div class="row">
                <div class="col-md-4 pb-3">
                  <div class="form-check form-check-inline">
                    <input
                      formControlName="feedbackLevel"
                      class="form-check-input"
                      type="radio"
                      name="feedbackLevel"
                      id="High"
                      value="High"
                    />
                    <label class="form-check-label" for="High"> High </label>
                  </div>
                </div>
                <div class="col-md-4 pb-3">
                  <div class="form-check form-check-inline">
                    <input
                      formControlName="feedbackLevel"
                      class="form-check-input"
                      type="radio"
                      name="feedbackLevel"
                      id="Normal"
                      value="Medium"
                    />
                    <label class="form-check-label" for="Normal">Normal </label>
                  </div>
                </div>
                <div class="col-md-4 pb-3">
                  <div class="form-check form-check-inline">
                    <input
                      formControlName="feedbackLevel"
                      class="form-check-input"
                      type="radio"
                      name="feedbackLevel"
                      id="Low"
                      value="Low"
                    />
                    <label class="form-check-label" for="Low"> Low</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="submit text-right pt-3">
              <button
                name="myButton"
                type="submit"
                class="btn btn-lg btn-primary col-12"
              >
                Send
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div *ngIf="submitted">
      <div class="card border-0 cs-shadow">
        <div class="card-body">
          <div class="p-4">
            <h2>VFeedBack</h2>
            <p class="pt-3 pb-2">Your response has been recorded</p>
            <a (click)="newMsg()" href="javascript:void(0)">
              Submit another response
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
